<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Interactive 3d plots of landscapes or seascapes using plot_ly — pretty_scape_3d • prettyGraphics</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Interactive 3d plots of landscapes or seascapes using plot_ly — pretty_scape_3d" />
<meta property="og:description" content="This is a wrapper function for plot_ly which streamlines the production of 3d, interactive raster plots. Key features include (a) automated handling of raster orientation and appropriate labelling, (b) internal aggregation of large rasters, if requested, (c) zooming around inputted points, if requested, (d) the addition of coastlines to 3d rasters, if requested, and (e) additional control over plot shape. Points (e.g. passive acoustic telemetry receivers) and lines (e.g. movement pathways) can be added across the landscape. Some other plot_ly options are also supported. This function was motivated by the need to visualise rapidly a complex bathymetric landscape with passive acoustic telemetry receivers and reconstructed animal movement pathways over the seabed." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prettyGraphics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introducing_prettyGraphics.html">Vignette: An introduction to prettyGraphics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/edwardlavender/prettyGraphics/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Interactive 3d plots of landscapes or seascapes using <code><a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plot_ly</a></code></h1>
    <small class="dont-index">Source: <a href='https://github.com/edwardlavender/prettyGraphics/blob/master/R/pretty_scape_3d.R'><code>R/pretty_scape_3d.R</code></a></small>
    <div class="hidden name"><code>pretty_scape_3d.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is a wrapper function for <code><a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plot_ly</a></code> which streamlines the production of 3d, interactive raster plots. Key features include (a) automated handling of raster orientation and appropriate labelling, (b) internal aggregation of large rasters, if requested, (c) zooming around inputted points, if requested, (d) the addition of coastlines to 3d rasters, if requested, and (e) additional control over plot shape. Points (e.g. passive acoustic telemetry receivers) and lines (e.g. movement pathways) can be added across the landscape. Some other <code><a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plot_ly</a></code> options are also supported. This function was motivated by the need to visualise rapidly a complex bathymetric landscape with passive acoustic telemetry receivers and reconstructed animal movement pathways over the seabed.</p>
    </div>

    <pre class="usage"><span class='fu'>pretty_scape_3d</span><span class='op'>(</span>
  <span class='va'>r</span>,
  aggregate <span class='op'>=</span> <span class='cn'>NULL</span>,
  add_surface <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>colors <span class='op'>=</span> <span class='fu'>grDevices</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/grDevices/palettes.html'>heat.colors</a></span><span class='op'>(</span><span class='fl'>100</span><span class='op'>)</span><span class='op'>)</span>,
  add_markers <span class='op'>=</span> <span class='cn'>NULL</span>,
  thin_markers <span class='op'>=</span> <span class='cn'>FALSE</span>,
  buffer <span class='op'>=</span> <span class='cn'>NULL</span>,
  add_paths <span class='op'>=</span> <span class='cn'>NULL</span>,
  coastline <span class='op'>=</span> <span class='cn'>NULL</span>,
  coastline_paths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>line <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='fu'>grDevices</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/grDevices/rgb.html'>rgb</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>,
  plane <span class='op'>=</span> <span class='cn'>NULL</span>,
  plane_surface <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>showscale <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,
  xlim <span class='op'>=</span> <span class='cn'>NULL</span>,
  ylim <span class='op'>=</span> <span class='cn'>NULL</span>,
  zlim <span class='op'>=</span> <span class='cn'>NULL</span>,
  add_tick_text <span class='op'>=</span> <span class='cn'>TRUE</span>,
  font <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"sans"</span>, size <span class='op'>=</span> <span class='fl'>18</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,
  xtitle <span class='op'>=</span> <span class='st'>""</span>,
  ytitle <span class='op'>=</span> <span class='st'>""</span>,
  ztitle <span class='op'>=</span> <span class='st'>""</span>,
  stretch <span class='op'>=</span> <span class='fl'>1</span>,
  aspectmode <span class='op'>=</span> <span class='st'>"cube"</span>,
  eye <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>r</th>
      <td><p>A <code><a href='https://rdrr.io/pkg/raster/man/raster.html'>raster</a></code> to be plotted. The raster should be less than, approximately, 1800 x 1800 cells (otherwise, <code><a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plot_ly</a></code> will not show the plot). Raster aggregation can be implemented within the function (see <code>aggregate</code>, below), although this may be slow for large rasters. Interactive plots of lower resolution rasters are more responsive.</p></td>
    </tr>
    <tr>
      <th>aggregate</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/raster/man/aggregate.html'>aggregate</a></code> to aggregate raster cells. If provided, the raster, <code>r</code>, is aggregated within the function prior to plotting. For large rasters, this is necessary to reduce raster dimension to a size which can be handled by <code><a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plot_ly</a></code>, which creates the underlying plot. The raster can also be reduced in size by zooming around points provided (see <code>buffer</code>).</p></td>
    </tr>
    <tr>
      <th>add_surface</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_surface</a></code> to customise the raster surface added to the plot.</p></td>
    </tr>
    <tr>
      <th>add_markers</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_markers</a></code> to add points to the plot.</p></td>
    </tr>
    <tr>
      <th>thin_markers</th>
      <td><p>(optional) A logical input which defines whether or not plot all inputted markers (<code>thin_markers = FALSE</code>) or only those markers that fall within the domain of the raster (<code>thin_markers = TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/rgeos/man/misc-gBuffer.html'>gBuffer</a></code> to add a buffer around inputted points,  provided via <code>add_markers</code>, below (e.g. <code>buffer = list(width = 1)</code>). If provided, only the raster cells which fall into this/these buffer(s) are shown.</p></td>
    </tr>
    <tr>
      <th>add_paths</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_paths</a></code> to add lines to the plot.</p></td>
    </tr>
    <tr>
      <th>coastline</th>
      <td><p>(optional) A <code><a href='https://rdrr.io/pkg/sp/man/SpatialPointsDataFrame-class.html'>SpatialPointsDataFrame-class</a></code> object which defines the coastline (if applicable). This option is probably only suitable if <code>aspectmode = "data"</code> (see below).</p></td>
    </tr>
    <tr>
      <th>coastline_paths</th>
      <td><p>A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_paths</a></code> to add the coastline as lines to the plot.</p></td>
    </tr>
    <tr>
      <th>plane</th>
      <td><p>(optional) A number which defines the height of a horizontal, 2 dimensional plane that can be added to the plot to aid inference. Note that if <code>stretch</code> is provided (see below), the height of the plane is also adjusted by <code>stretch</code> internally.</p></td>
    </tr>
    <tr>
      <th>plane_surface</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_surface</a></code> to customise the plane added to the plot.</p></td>
    </tr>
    <tr>
      <th>xlim</th>
      <td><p>(optional) A numeric vector of length 2 which defines x axis limits. If not provided, these are calculated internally.</p></td>
    </tr>
    <tr>
      <th>ylim</th>
      <td><p>(optional) A numeric vector of length 2 which defines y axis limits. If not provided, these are calculated internally.</p></td>
    </tr>
    <tr>
      <th>zlim</th>
      <td><p>(optional) A numeric vector of length 2 which defines z axis limits. If not provided, these are calculated internally.</p></td>
    </tr>
    <tr>
      <th>add_tick_text</th>
      <td><p>A logical input that defines whether or not to add tick mark labels.</p></td>
    </tr>
    <tr>
      <th>font</th>
      <td><p>A named list of arguments that control plot font (see <code><a href='https://rdrr.io/pkg/plotly/man/layout.html'>layout</a></code>).</p></td>
    </tr>
    <tr>
      <th>xtitle</th>
      <td><p>(optional) A character string which defines the label for the x axis.</p></td>
    </tr>
    <tr>
      <th>ytitle</th>
      <td><p>(optional) A character string which defines the label for the y axis.</p></td>
    </tr>
    <tr>
      <th>ztitle</th>
      <td><p>(optional) A character string which defines the label for the z axis.</p></td>
    </tr>
    <tr>
      <th>stretch</th>
      <td><p>(optional) A number which is used to vertically stretch the height of a landscape. This can be useful if <code>aspectmode = "data"</code> but the magnitude of change horizontally versus vertically is very different. If supplied, <code>stretch</code> also affects the z values of the markers and paths (if <code>add_markers</code> and/or <code>add_paths</code> is/are specified).</p></td>
    </tr>
    <tr>
      <th>aspectmode</th>
      <td><p>A character which defines the shape of the plot: <code>"cube"</code> produces a cube; <code>"data"</code> provides a plot whether the size of the x, y and z axes is scaled according to the data.</p></td>
    </tr>
    <tr>
      <th>eye</th>
      <td><p>(optional) A named list of arguments that control the camera perspective (see <code><a href='https://rdrr.io/pkg/plotly/man/layout.html'>layout</a></code>).</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>A logical input which defines whether or not to display messages regarding function progress. This can be useful if <code>aggregate</code> or <code>buffer</code> are provided: for large rasters and/or many points, these steps may be slow.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to <code><a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plot_ly</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns a <code><a href='https://rdrr.io/pkg/plotly/man/plotly.html'>plotly</a></code> plot.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The raster dimension should be less than approximately 1800 cells by 1800 cells. The coordinate system for the raster and, if applicable, markers and the buffer width, all need to be identical, whether this is implicit or specified explicitly.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Edward Lavender</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#### Define some bathymetry data</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rspatial.org/raster'>raster</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required package: sp</span></div><div class='input'><span class='va'>r</span> <span class='op'>&lt;-</span> <span class='va'>dat_gebco</span>
<span class='va'>r</span><span class='op'>[</span><span class='va'>r</span><span class='op'>[</span><span class='op'>]</span> <span class='op'>&gt;</span> <span class='fl'>0</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>

<span class='co'>#### Example 1: Plot a landscape using default options</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
<span class='co'>#### Example 2: Adjusting axes via zlim, ylim, zlim and font arguments</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,
                xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>5.5</span>, <span class='op'>-</span><span class='fl'>5.3</span><span class='op'>)</span>,
                font <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"Times"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
<span class='co'>#### Example 3: Change the aspectmode to "data":</span>
<span class='co'># The x, y and z values should be in the same units.</span>
<span class='co'># Here, depth is in m, so we'll project the raster to UTM coordinates:</span>
<span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/projectRaster.html'>projectRaster</a></span><span class='op'>(</span><span class='va'>r</span>, crs <span class='op'>=</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS</a></span><span class='op'>(</span><span class='st'>"+proj=utm +zone=29 ellps=WGS84"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Discarded datum Unknown based on WGS84 ellipsoid in CRS definition</span></div><div class='input'><span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'><span class='co'># For large areas, it can be helpful to vertically stretch the raster</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>, stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
<span class='co'>#### Example 4: Aggregrate the raster via aggregate</span>
<span class='co'># This is necessary for large rasters for plotly to produce the plot.</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                aggregate <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>fact <span class='op'>=</span> <span class='fl'>2</span>, fun <span class='op'>=</span> <span class='va'>mean</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Aggregating raster...
#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
<span class='co'>#### Example 5: Add points via add_markers and zoom into landscape around points</span>
<span class='co'># Add points</span>
<span class='va'>xyz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/xyFromCell.html'>coordinates</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>500</span><span class='op'>:</span><span class='fl'>520</span>, <span class='op'>]</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>xyz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, y <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>[</span>, <span class='fl'>2</span><span class='op'>]</span>, z <span class='op'>=</span> <span class='op'>-</span><span class='fl'>500</span><span class='op'>)</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                add_markers <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>x</span>, <span class='va'>xyz</span><span class='op'>$</span><span class='va'>y</span>, <span class='va'>xyz</span><span class='op'>$</span><span class='va'>z</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='output co'>#&gt; <span class='warning'>Warning: add_markers must be a named list with x, y and z coordinates; add_markers input ignored.</span></div><div class='input'><span class='co'># Control point characteristics</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                add_markers <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>y</span>, z <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>z</span>,
                                   marker <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='output co'>#&gt; <span class='warning'>Warning: `arrange_()` was deprecated in dplyr 0.7.0.</span>
#&gt; <span class='warning'>Please use `arrange()` instead.</span>
#&gt; <span class='warning'>See vignette('programming') for more help</span></div><div class='input'><span class='co'># Zoom into landscape around points via buffer argument</span>
<span class='co'># Note that the units are in m here (since we're using the UTM coordinate system)</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                add_markers <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>y</span>, z <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>z</span>,
                                   marker <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span><span class='op'>)</span>,
                buffer <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>1500</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Cropping spatial data around buffered points... </div><div class='output co'>#&gt; <span class='warning'>Warning: Discarded datum Unknown based on WGS84 ellipsoid in CRS definition</span></div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
<span class='co'>#### Example 6: Add lines via add lines</span>
<span class='co'># Note that the legend for these lines is hidden automatically</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                add_paths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>y</span>, z <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>z</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
<span class='co'>#### Example 6: Incorporate coastline via add_coastline and coastline_paths</span>
<span class='co'># r and coastline need to have same crs</span>
<span class='va'>coastline</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/spTransform.html'>spTransform</a></span><span class='op'>(</span><span class='va'>dat_coast_around_oban</span>, <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/projection.html'>crs</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: NULL source CRS comment, falling back to PROJ string</span></div><div class='input'><span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                coastline <span class='op'>=</span> <span class='va'>coastline</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'><span class='co'># Control coastline graphical parameters</span>
<span class='co'># Note that the legend is hidden automatically</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                coastline <span class='op'>=</span> <span class='va'>coastline</span>,
                coastline_paths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>line <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
<span class='co'>#### Example 7: Add plane</span>
<span class='co'># Note that the plane height is automatically adjusted by stretch</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                plane <span class='op'>=</span> <span class='op'>-</span><span class='fl'>50</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'><span class='co'># Customise via plane_surface</span>
<span class='co'># Note that the legend is hidden automatically</span>
<span class='fu'>pretty_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>r</span>,  stretch <span class='op'>=</span> <span class='fl'>50</span>, aspectmode <span class='op'>=</span> <span class='st'>"data"</span>,
                plane <span class='op'>=</span> <span class='op'>-</span><span class='fl'>50</span>, plane_surface <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>colorscale <span class='op'>=</span> <span class='st'>"blue"</span>, showscale <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Defining plot properties...
#&gt; Producing plot...</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


