<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>An interactive R Shiny exploration of 3d landscapes or seascapes — vis_scape_3d • prettyGraphics</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="An interactive R Shiny exploration of 3d landscapes or seascapes — vis_scape_3d" />
<meta property="og:description" content="This function uses pretty_scape_3d in an interactive R Shiny environment to facilitate the rapid exploration of complex environments. This is particularly useful if you want to zoom into the landscape around different points." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prettyGraphics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introducing_prettyGraphics.html">Vignette: An introduction to prettyGraphics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/edwardlavender/prettyGraphics/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>An interactive R Shiny exploration of 3d landscapes or seascapes</h1>
    <small class="dont-index">Source: <a href='https://github.com/edwardlavender/prettyGraphics/blob/master/R/vis_scape_3d.R'><code>R/vis_scape_3d.R</code></a></small>
    <div class="hidden name"><code>vis_scape_3d.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function uses <code><a href='pretty_scape_3d.html'>pretty_scape_3d</a></code> in an interactive R Shiny environment to facilitate the rapid exploration of complex environments. This is particularly useful if you want to zoom into the landscape around different points.</p>
    </div>

    <pre class="usage"><span class='fu'>vis_scape_3d</span><span class='op'>(</span><span class='va'>r</span>, aggregate <span class='op'>=</span> <span class='cn'>NULL</span>, buffer <span class='op'>=</span> <span class='cn'>NULL</span>, add_markers <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>r</th>
      <td><p>A <code><a href='https://rdrr.io/pkg/raster/man/raster.html'>raster</a></code> to be plotted (see <code><a href='pretty_scape_3d.html'>pretty_scape_3d</a></code>).</p></td>
    </tr>
    <tr>
      <th>aggregate</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/raster/man/aggregate.html'>aggregate</a></code> to aggregate raster cells, excluding the aggregation factor (<code>fact</code>), which is specified interactively.</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/rgeos/man/misc-gBuffer.html'>gBuffer</a></code> to add a buffer around inputted points, within which the raster is shown, except <code>width</code> which is set interactively.</p></td>
    </tr>
    <tr>
      <th>add_markers</th>
      <td><p>(optional) A named list of arguments that is passed to <code><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_markers</a></code> to add points to the plot. Of these, subsets of markers can be selected interactively to zoom into the landscape in particular areas.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments passed to <code><a href='pretty_scape_3d.html'>pretty_scape_3d</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns an interactive R Shiny application.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The R Shiny interface provides the following interactive options: (a) zoom around (interactively selected subsets of) inputted points, (b) aggregate the raster, (c) add planes at different heights, and stretch the raster vertically according to interactively specified options. The following function arguments are inputted interactively and should not be inputted via the function call: <code>buffer$width</code>, <code>aggregate$fact</code>, <code>plane</code> and <code>stretch</code>. To zoom around inputted points, you must specify <code>add_markers</code>. The <code>width</code> option to <code>buffer</code> is set interactively and should not be provided. To aggregate the raster, at least one argument must be supplied to <code>aggregate</code> (e.g. <code>fun</code>). The <code>fact</code> option is set interactively and should not be provided. In all cases, arguments to <code>plan</code> and <code>stretch</code> are set interactively, so these options should not be included in the function call. Other customisation arguments, passed to <code><a href='pretty_scape_3d.html'>pretty_scape_3d</a></code>, can be included in the function call.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='pretty_scape_3d.html'>pretty_scape_3d</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Edward Lavender</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#### Use UTM raster for visualisation</span>
<span class='co'># This is best for visualisation because x, y and z coordinates are on the same scale (m)</span>
<span class='co'># Planar coordinates coordinates are also required to zoom around points (see ?rgeos::gBuffer)</span>
<span class='va'>dat_gebco_utm</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/projectRaster.html'>projectRaster</a></span><span class='op'>(</span><span class='va'>dat_gebco</span>, crs <span class='op'>=</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS</a></span><span class='op'>(</span><span class='st'>"+proj=utm +zone=29 ellps=WGS84"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Discarded datum Unknown based on WGS84 ellipsoid in CRS definition</span></div><div class='input'>
<span class='co'>#### Example 1: Only supply a raster</span>
<span class='co'># In this case, the two benefits of the Shiny, relative to pretty_scape_3d(), are</span>
<span class='co'># ... (a) interactive adjustment of vertical stretch</span>
<span class='co'># ... (b) interactive addition of horizontal planes</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Only run examples in interactive R sessions</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>vis_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>dat_gebco_utm</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>

<span class='co'>#### Example 2: Interactive raster aggregation</span>
<span class='co'># To implement this, you need to directly specify at least one argument</span>
<span class='co'># ... for raster::aggregate, such as the function, fun, via vis_scape_3d()'s aggregate argument.</span>
<span class='co'># ... The aggregation fact is set interactively. Note that you will get a warning</span>
<span class='co'># ... initally because the default aggregation fact is 1, i.e., no aggregation.</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>vis_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>dat_gebco_utm</span>,
             aggregate <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>fun <span class='op'>=</span> <span class='va'>mean</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>

<span class='co'>#### Example 3: Zoom around inputted markers interactively</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='co'># Define example coordinates on UTM scale</span>
  <span class='va'>xyz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/xyFromCell.html'>coordinates</a></span><span class='op'>(</span><span class='va'>dat_gebco_utm</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>500</span><span class='op'>:</span><span class='fl'>520</span>, <span class='op'>]</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='va'>xyz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, y <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>[</span>, <span class='fl'>2</span><span class='op'>]</span>, z <span class='op'>=</span> <span class='op'>-</span><span class='fl'>10</span><span class='op'>)</span>
  <span class='co'># Lauch application and interactively define buffer size in m</span>
  <span class='co'># Note that you will may a warning initally because the default buffer size is small.</span>
  <span class='fu'>vis_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>dat_gebco_utm</span>,
             add_markers <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>y</span>, z <span class='op'>=</span> <span class='va'>xyz</span><span class='op'>$</span><span class='va'>z</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>

<span class='co'>#### Example 4: Other arguments can be passed to pretty_scape_3d() via ...</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>vis_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>dat_gebco_utm</span>,
             aspectmode <span class='op'>=</span> <span class='st'>"data"</span>
  <span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>

<span class='co'># However, note that inputting arguments to pretty_scape_3d() that are set by the Shiny</span>
<span class='co'># ... interactively will cause an error:</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'>vis_scape_3d</span><span class='op'>(</span>r <span class='op'>=</span> <span class='va'>dat_gebco_utm</span>,
               stretch <span class='op'>=</span> <span class='fl'>10</span>
    <span class='op'>)</span>
  <span class='op'>}</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


