<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Add subplots of the lunar phase to a plot — add_moons • prettyGraphics</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Add subplots of the lunar phase to a plot — add_moons"><meta property="og:description" content="This function adds images of the lunar phase to lunar phase plots."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prettyGraphics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introducing_prettyGraphics.html">Vignette: An introduction to prettyGraphics</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwardlavender/prettyGraphics/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add subplots of the lunar phase to a plot</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwardlavender/prettyGraphics/blob/HEAD/R/add_moons.R" class="external-link"><code>R/add_moons.R</code></a></small>
    <div class="hidden name"><code>add_moons.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function adds images of the lunar phase to lunar phase plots.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_moons</span><span class="op">(</span></span>
<span>  side <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  pos <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  outer <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nv <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  radius <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"radians"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>side</dt>
<dd><p>A numeric input that defines the side on to which you would like to add the moons. <code>side = 1</code>, <code>side = 2</code>, <code>side = 3</code>, <code>side = 4</code> add moons to the bottom, left, top and right axes respectively. The default is to add moons to the top of the plot. This is appropriate if the plot in question is a smooth of lunar phase. If the plot is a lunar phase time series, <code>side = 2</code> is more appropriate (see Examples).</p></dd>


<dt>pos</dt>
<dd><p>A numeric input that defines the position at which moons will be added to the plot. If <code>side = 1</code> or <code>side = 3</code>, this refers to the height at which moons will be added. If <code>side = 2</code> or <code>side = 4</code>, this refers to the x value at which moons will be added (see Examples). This should be a single number; i.e. moons are all plotted at the same height (in the case of a smooth plot) or distance along the x axis (in the case of a time series plot).</p></dd>


<dt>outer</dt>
<dd><p>A logical input that defines whether or not the moons will be drawn beyond the range of the x or y axis. If this is the case, <code>outer = TRUE</code>; otherwise, set <code>outer = FALSE</code>.</p></dd>


<dt>nv</dt>
<dd><p>A numeric input that defines the number of vertices that are used to define moon shapes.</p></dd>


<dt>radius</dt>
<dd><p>A numeric input that defines the radii of the moons added in user units. The default is 0.25.</p></dd>


<dt>units</dt>
<dd><p>A character which defines the units of lunar phase on the existing plot. The default is <code>"radians"</code>. <code>"degrees"</code> is the other option.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments: none are currently implemented but depreciated argument names ('radius1' and 'position') can be passed via <code>...</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Small subplots of the lunar phase (new moon, first quarter, full moon, third quarter, full moon) are added to an existing plot.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function requires the 'lunar' and 'plotrix' packages. Please install these before running this function, using: <code>install.packages(c("lunar", "plotrix").</code></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#### Example (1): Add plots of lunar phase to simulated smooth function:</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">*</span><span class="va">pi</span>, length.out <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="fl">10</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="va">axis_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="pretty_plot.html">pretty_plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">add_moons</span><span class="op">(</span>side <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>          pos <span class="op">=</span> <span class="va">axis_ls</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">lim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>          outer <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>          nv <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>          radius <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>          units <span class="op">=</span> <span class="st">"radians"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_moons-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (2): Add plots to a lunar phase time series</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.POSIXt.html" class="external-link">seq.POSIXt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2016-01-01"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2016-05-01"</span><span class="op">)</span>, <span class="st">"days"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">lunar</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lunar/man/lunar.phase.html" class="external-link">lunar.phase</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">axis_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="pretty_plot.html">pretty_plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Argument 'x[[1]]' time zone currently ''; tz forced to UTC.</span>
<span class="r-in"><span><span class="fu">add_moons</span><span class="op">(</span>side <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>          pos <span class="op">=</span> <span class="va">axis_ls</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">lim</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>          outer <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>          nv <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>          radius <span class="op">=</span> <span class="fl">1e5</span>,</span></span>
<span class="r-in"><span>          units <span class="op">=</span> <span class="st">"radians"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_moons-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

